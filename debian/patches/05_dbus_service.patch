## Description: add some description
## Origin/Author: add some origin or author
## Bug: bug URL
--- a/configure.ac
+++ b/configure.ac
@@ -134,6 +134,11 @@ else
         AC_SUBST(DBUS_CFLAGS)
 fi
 
+# Find out where the session service file goes
+# The sad sed hack is recomended by section 27.10 of the automake manual.
+DBUS_SESSION_SERVICE_DIR=`pkg-config --variable session_bus_services_dir dbus-1 | sed -e 's,/usr/share,${datarootdir},g'`
+AC_SUBST(DBUS_SESSION_SERVICE_DIR)
+
 dnl ---------------------------------------------------------------------------
 dnl - Where should we put documentation ?
 dnl ---------------------------------------------------------------------------
@@ -670,6 +675,7 @@ po/Makefile.in
 src/Makefile
 src/gnome-screensaver.desktop.in
 data/Makefile
+data/org.gnome.ScreenSaver.service
 doc/Makefile
 doc/gnome-screensaver.xml
 ])
--- /dev/null
+++ b/data/org.gnome.ScreenSaver.service.in
@@ -0,0 +1,3 @@
+[D-BUS Service]
+Name=org.gnome.ScreenSaver
+Exec=@EXPANDED_BINDIR@/gnome-screensaver --no-daemon
--- a/data/Makefile.am
+++ b/data/Makefile.am
@@ -7,9 +7,13 @@ man_MANS = 				\
 
 @INTLTOOL_XML_NOMERGE_RULE@
 
+dbussessionservicedir = $(DBUS_SESSION_SERVICE_DIR)
+dbussessionservice_DATA = org.gnome.ScreenSaver.service
+
 EXTRA_DIST = 				\
 	$(man_MANS)			\
 	gnome-screensaver		\
+	org.gnome.ScreenSaver.service.in\
 	$(NULL)
 
 DISTCLEANFILES = 			\
